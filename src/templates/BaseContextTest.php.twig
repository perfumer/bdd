<?php

namespace Generated\Tests\{{ context.namespace }};

use PHPUnit\Framework\TestCase;

{% if context.extendsTest %}
abstract class {{ context.className }}Test extends {{ context.extendsTest }}
{% else %}
abstract class {{ context.className }}Test extends TestCase
{% endif %}
{
{% for step in context.steps %}
    abstract public function {{ step.functionName }}DataProvider();

{% endfor %}
{% for step in context.steps %}
    /**
     * @dataProvider {{ step.functionName }}DataProvider
     */
    final public function test_{{ step.functionName }}({% if step.headerArguments %}{{ step.headerArguments|join(', ') }}, {% endif %}$result)
    {
        $_class_instance = new \{{ step.context }}();

        $this->assertEquals($_class_instance->{{ step.functionName }}({{ step.headerArguments|join(', ') }}), $result);
    }

{% endfor %}
}
