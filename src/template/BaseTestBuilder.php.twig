<?php

namespace Generated\Tests\{{ context.namespace }};

{% if context.extendsTest %}
abstract class {{ context.className }}Test extends {{ context.extendsClass }}
{% else %}
abstract class {{ context.className }}Test extends \PHPUnit_Framework_TestCase
{% endif %}
{
    abstract public function getClassInstance();

{% for step in context.stepHeaders %}
{% if step.type in ['validator', 'formatter'] %}
    abstract public function {{ step.functionName }}DataProvider();

    /**
     * @dataProvider {{ step.functionName }}DataProvider
     */
    final public function test_{{ step.functionName }}({% if step.arguments %}{{ method_arguments(step.arguments) }}, {% endif %}$result)
    {
        $_class_instance = $this->getClassInstance();

        $this->assertEquals($_class_instance->{{ step.functionName }}({{ method_arguments(step.arguments) }}), $result);
    }

{% endif %}
{% endfor %}
}
